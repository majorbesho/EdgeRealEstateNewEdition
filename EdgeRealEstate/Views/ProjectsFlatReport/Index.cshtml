@model IEnumerable<EdgeRealEstate.Models.ViewModels.ProjectsFlatViewModel>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_AdminPage.cshtml";
}

<h2 style="text-align-last:center">تقرير موقف مشروع</h2>
<br />
<br />

@using (Html.BeginForm("Index", "ProjectsFlatReport"))
{
    <div>
        <div class="form-horizontal" dir="rtl">
            
                <div class="form-group" dir="rtl" >
                    
                    <div class="col-md-6" dir="rtl">
                        <div class="col-md-5">
                            @Html.DropDownList("ToProID", (IEnumerable<SelectListItem>)ViewBag.ProjectsTo, null, new { @id = "ToProID", @class = "form-control" })
                        </div>
                        @Html.Label("toPro", "الى ", htmlAttributes: new { @class = "control-label col-md-1" })
                    </div>

                    <div class="col-md-6">
                        <div class="col-md-5">
                            @Html.DropDownList("FromProID", (IEnumerable<SelectListItem>)ViewBag.ProjectsFrom, null, new { @id = "FromProID", @class = "form-control" })
                        </div>
                        @Html.Label("FromPro", "من ", htmlAttributes: new { @class = "control-label col-md-1" })
                    </div>
                </div>
           
            <div class="form-group bmd-form-group" dir="rtl">
                <div class="col-md-6">
                    <input type="submit" class="btn btn-primary fa fa-print" value="عرض" style="text-align:center;color: white;cursor: pointer;" />
                    <br />
                    <br />
                </div>
            </div>
        </div>
        <br />


    </div>
}

<table @*id="labsTypesTable*@" class="data table table-striped no-margin" dir="rtl">
    <thead style="background-color:#ccc; text-align-last:center" dir="rtl" >
        <tr>
            <th>المشروع</th>
            <th>تاريخ البدأ </th>
            <th>تاريخ الانتهاء </th>
            <th>إجمالي الشقق</th>
            <th>تحت التجهيز</th>
            <th>جاهز للبيع</th>
            <th>محجوز</th>
            <th>مباع</th>
        </tr>
    </thead>
    <tbody style="text-align-last:center">
        @foreach (var item in Model)
        {
        <tr>
            <td>@item.ProjectName</td>
            <td>@item.BeginDateAcutely</td>
            <td>@item.EndDateAcutely</td>
            <td>@item.TotalFlatNO</td>
            <td>@item.UnderpreparingFlat</td>
            <td>@item.ReadyFlat</td>
            <td>@item.BookedFlat</td>
            <td>@item.SoledFlat</td>
        </tr>
        }
    </tbody>
    <tfoot style="text-align-last: center">
        <tr>
            <td colspan="3"> الاجمالي</td>
            
            <td>@Model.Sum(i => i.TotalFlatNO)</td>
            <td>@Model.Sum(i => i.UnderpreparingFlat)</td>
            <td>@Model.Sum(i => i.ReadyFlat)</td>
            <td>@Model.Sum(i => i.BookedFlat)</td>
            <td>@Model.Sum(i => i.SoledFlat)</td>
        </tr>
    </tfoot>
</table>


